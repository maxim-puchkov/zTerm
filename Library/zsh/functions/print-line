#!/bin/zsh

#  print-line
#  Z-Function (118)
#
#  Created by Maxim Puchkov on 2020-09-11.
#  Copyright Â© 2020 Maxim Puchkov. All rights reserved.


# print-line - output one full line of text
function print-line() {(
  # Default values
  typeset -i width=$COLUMNS
  typeset char='*'
  
  # Parse options
  while [[ $1 =~ ^[-] ]]; do
    case $1 in
      # Number of columns in a row
      (-w|--width)
        if [[ $2 -gt 0 ]]; then
          let width="$2"
          shift
        fi
      ;;
      # Character to fill empty spaces
      (-c|--char)
        if [[ -n $2 ]]; then
          char="$2"
          shift
        fi
      ;;
    esac
    shift
  done
  
  print -- "${(pr:$width::$char:)}"
  return 0
)}
#  echo "D: $DELIM, W: $WIDTH"
#  [[ ! -v DELIM ]] && DELIM='-'
#  [[ ! -v WIDTH ]] && WIDTH=$COLUMNS
#  export DELIM WIDTH
#  echo "D: $DELIM, W: $WIDTH"
  
#  export DELIM='-'
#  export -i10 WIDTH=$COLUMNS
  
#  [[ ! -v DELIM ]] && DELIM='-'
#  export DELIM
#  print -- ${(pr:$COLUMNS::$DELIM:)}
#  return 0
#  
#)}
