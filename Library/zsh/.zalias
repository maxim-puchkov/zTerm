#!/bin/zsh

#  User-specific profile for interactive zsh(1) shells
#
#
#
#


#MARK: - Unalias
{
unalias run-help
unalias diff
unalias {1..9}
unalias -- -
} 2>/dev/null


#MARK: - ED
function aled() {
  print -P -- "%U$1%u"
  print -P -- "%F{1}Old%f:\t$(dim $(alias_value $1))"
  vared -p "%F{2}New%f:"$'\t' "aliases[${1}]"
}
function funced() {
  print -P -- "%U$1%u"
  print -P -- "%F{1}Old%f:\n$(dim ${functions[$1]})"
  vared -p "%F{2}New%f:"$'\n' "functions[${1}]"
}



#MARK: - Recently added
alias t0='transparency 0'
alias t1='transparency 1'

alias osa='osascript -e'
alias sp='sprint'
alias shlvl='typeset -p SHELL SHLVL'


# Statistics 
alias hs='histat'
alias zstats='zsh_stats'


alias 22d='it2 window dark'


alias xcl='defaults write com.apple.dt.Xcode IDEAppearance 1'
alias xcd='defaults write com.apple.dt.Xcode IDEAppearance 2'


alias len='() { print -- "len(${(qqq)argv}) = ${(c)#argv}"; }'

alias ftime='list-times -amcb'

# Ordered lists
alias ol='print -ac -oi -r --'
alias oll='print -l -oi -r --'


alias {root,sys}='sudo su -'


#
alias 2w='it2 window'


# noglob
alias calc='noglob calculate'
alias is='noglob is'
alias isset='noglob isset'











#MARK: - Regular Aliases
# Builtin 'autoload'
alias al='builtin autoload'
alias alz='builtin autoload -Uz'

# Builtin 'builtin'
alias bltn='builtin builtin'

# Function 'compdef'
alias cdef='compdef'


# Command 'ls'
alias ls='/bin/ls -BFGHhk'
## List all
alias lsa='ls -a' \
      la='ls -la'
## List long
alias l='ls -l' \
      ll='ls -lA' \
      lll='() { ls -lA "${@:-$PWD}/"*; }'
## List flags
alias lf='ls -lO'
## List dot-files
alias -- {.ls,ls.}='() ( cd -q ${@:-$PWD};  ls -d  .*; )'
alias -- {.l1,l1.}='() ( cd -q ${@:-$PWD} && ls -1d .*; )'
alias -- {.ll,ll.}='() ( cd -q ${@:-$PWD} && ls -ld .*; )'
## List zdot-files ???: 
alias -- .z='() ( cd -q $ZDOTDIR && find ./.z*(:t) -prune -type f; )'


# Function 'list'
## List time of Creation
alias ltc='list tc' \
      ltca='list tc -a'
## List time of Access
alias lta='list ta' \
      ltaa='list ta -a'
## List time of CHange
alias ltch='list tch'
## List time of Modification
alias ltm='list tm'
## List Size
alias lS='list S' \
      lSa='list S -a'
## List highlighted flags
alias lsf='list f'

# List images (iterm2)
alias lsimg='imgls'



# Command 'chflags'
alias hide='chflags hidden' \
      unhide='chflags nohidden'
alias lock='chflags uchg' \
      unlock='chflags nouchg'


# Command 'chmod'
alias -- +r='chmod +r' \
         -r='chmod -r'
alias -- +w='chmod +w' \
         -w='chmod -w'
alias -- +x='chmod +x' \
         -x='chmod -x'


# Builtin 'echo'
alias e='builtin echo -'
alias E='sprint --magenta-bg --white --bold --'

# Command 'find'
alias findl='/usr/bin/find -L'

# Builtin 'functions'
alias fns='functions'

# Command 'google'
alias ggl='/usr/local/bin/google'


# Command 'git'
alias gcm='git commit -m'
alias grs='git restore --staged'
alias gs='git status'
alias gt='() { cd "$zterm" && git status; };'


# Command 'grep'
alias gr='grep'
alias grepa='egrep --color=always --text --regexp ".*"'
alias mang='grepman'


# Command 'hexdump'
alias hd='/usr/bin/hexdump'

# Help
alias help='run-help'

# Command 'launchctl'
alias lctl='/bin/launchctl'

# Command 'ln'
alias lns='ln -s' \
      sln='ln -s'
## Unlink
alias unl='unlink' \
      uln='unlink'


# Builtin 'print'
alias p='print'
alias printp='builtin print -P' \
      pp='printp'
## Print new line
alias printl='builtin print -l' \
      pl='printl'
## Print without new line
alias printn='builtin print -n' \
      pn='printn'
## Print hashed directories
alias printd='builtin print -P -D'
## Print prompt sequences
alias print-='builtin print -P --' \
      p-='print-'
## Print parser status
alias print-parser='print -P -- "%_"' \
      print-parser-rev='print -P -- "%^"'


# Pygments
alias pyg='/usr/local/bin/pygmentize'

# Command 'openssl'
alias openssl='/usr/local/opt/openssl/bin/openssl'
alias sha256='openssl sha256'


# Command 'open'
alias o='open'
alias op='open'
## Open in editor
alias xc='open -a Xcode'
alias ij='open -a "IntelliJ IDEA CE"'

## Open dot files in Xcode
alias .g='open -a Xcode .gitignore'
alias .ci='open -a Xcode .gitlab/.gitlab-ci.yml'
## Open Z shell project files
alias zshrc='open -a Xcode ~zsh/.zshrc'
#alias zalias='open -a Xcode ~zsh/.zalias'
alias zprofile='open -a Xcode ~zsh/.zprofile'
alias zutil='open -a Xcode ~zsh/.zutil'
alias ztell='open -a Xcode ~zsh/.ztell'
alias ziterm2='open -a Xcode ~zsh/.ziterm2'
##
alias zt='open ~zterm'
alias zzz='open ~zsh/"Z shell.xcodeproj"'
## Open an application
alias hxd='open -a "Hex Fiend"'
alias vb='open -a VirtualBox'
alias music='open -a Music'


# Python
alias python='/usr/local/bin/python3'
alias python3.7='/usr/local/bin/python3.7'
alias python3.8='/usr/local/bin/python3.8'
##
alias pip='command pip3'
alias idle='command idle3'
##
alias p2='python2'
alias p3='python3'


# Builtin 'set'
alias setx='set -o extendedglob'
alias set1='set -x; set +x -- -x -y oy -z oz1 oz2 -- -r REST' \
      set2='set -- -a -b -c -d D -e E -f F' \
      set3='set -- -a -b -c -d D -e E -f F --long LONG args "hello world"'
## Unset
alias uns='unset'
alias unf='unfunction'


# Command 'sqlite3'
alias s3='/usr/bin/sqlite3'

# Command 'strings'
alias str='/usr/bin/strings'

# Builtin 'type'
alias types='builtin type -a'

# Command 'tar'
alias tarch='/usr/bin/tar zcvf'


# Builtin 'typeset'
alias ts='typeset' \
      tsm='noglob typeset -m' \
      tspm='noglob typeset -p -m'
## Numeric types
alias Float='typeset -F'
alias int='typeset -i'
alias Assoc='typeset -A'

# Builtin 'whence'
alias wha='builtin whence -a'





#MARK: One letter aliases
alias c='/bin/cat'
alias j='() { print -r -- "${(j::)argv}"; }'
alias n='/usr/bin/nano'
alias q='builtin exit 0;'
alias ,='() { print -r -- "{${(j:, :)argv}}"; }'


# Commands 'cp', 'mv', 'rm'
alias cp='/bin/cp -i'
alias mv='/bin/mv -i'
alias rm='/bin/rm -i'
alias ln='/bin/ln -Ffhs'

#MARK: Extended commands
alias cd='cdp'

alias nano='nano --mouse'

alias diff\?='diff -brief --report-identical-files'
alias diff2='diff --suppress-common-lines --side-by-side --color=always'




#MARK: Custom commands
# Highlight brackets
#alias brk='brackets'

# Print last return code
#alias C='retc'

# Change to current Finder directory
alias cfd='cd "$(pfd)"'

# Set system appearance
alias darks='set-system-appearance dark'
alias lights='set-system-appearance light'

# Set iTerm profile
alias it2s='it2 switch-profile' \
      it2l='it2 set-profile Light' \
      it2d='it2 set-profile Dark' \
      it2ds='it2 set-profile "Dark Small"' \
      2s='it2s'

alias pfs='print-fstack'
alias pdb='print-debug'

alias {print-input,pi}='builtin print -P -- "$0: ${(j:, :)argv}"'

# Print file name and line number
alias pm='print-mark'


# Show an object
alias {s,i}='show'

# Show command source code
alias ss='showsrc'

# Print type of arguments
alias tf='typeof +v'



#MARK: Java
alias antlr='java -jar /usr/local/lib/antlr-4.8-complete.jar'
alias grun='java org.antlr.v4.gui.TestRig'

alias mvnh='print -l -- validate compile test package integration-test verify install deploy'




#MARK: - Global Aliases
# Silence errors
alias -g noerr='2>/dev/null'
alias -g 2NIL='2>/dev/null'

# Silence errors and output
alias -g quiet='&>/dev/null'
alias -g NIL='&>/dev/null'

alias -g _nerr='2>/dev/null'
alias -g _nout='1>/dev/null'
alias -g _nin='0>/dev/null'
alias -g _n='&>/dev/null'




# Conditional:  'if [[ ... ]] _T'
alias -g _T='; then print -P -- TRUE; else print -P -- FALSE; fi;'

# Loops:  'for ... _F' or 'while ... _F'
alias -g _F='; do print-var x; done;'
