#compdef zfc

#  _zfc
#  Z-Function Completion (15)
#
#  Created by Maxim Puchkov on 2020-05-01.
#  Copyright Â© 2020 Maxim Puchkov. All rights reserved.


_arguments -C \
  ":command:->command" \
  "*::arg:->arg"

case $state in
  command)
    declare -a commands
    commands=(
      stat:"display number of enabled and disabled Z-Functions"
      enable:"enable a Z-Function"
      disable:"disable a Z-Function"
      dir:"go to z-functions directory [default]"
      open:"open function source code in Xcode"
      find:"find Z-Function definition file"
      localfunction:"make a Z-Function local"
      sitefunction:"make a Z-Function accessible to all scripts"
      statfull:"list all enabled and disabled Z-Functions"
    )
    _describe -t commands command commands
    return
  ;;

  arg)
    case ${line[1]} in
      dir)
        _nothing
      ;;
      [^\s]*)
        _zfc_command
      ;;
    esac
  ;;
esac

return 0
