#!/bin/zsh

#  Get file description
#
#
#  Created by mpuchkov on 2020-02-12.
#  Copyright Â© 2020 Maxim Puchkov. All rights reserved.


#MARK: - Get
function get() {
    SRC=$(basename $0)
    subcommand=$1
    
    #MARK: - Functions
    function get_file() {
        echo $( basename $1 )
    }

    function get_filename() {
        local _file=$( get_file $1 )
        echo ${_file%.*}
        
        echo "TRY2:"
        echo $( get_file ${1:%.*} )
    }

    function get_fileext() {
        echo ${1##*.}
    }

    function get_filedir() {
        echo $( dirname $1 )
    }

    function get_fileinfo() {
        if [[ ! -e $1 ]]; then
            echo "Not found"
            return 1
        fi
        echo $( file -b $1 )
        return 0
    }

    
    case $subcommand in
        "")
            print "getting"
            ;;
        *)
            shift
            ${SRC}_${subcommand} $@
            if [ $? = 127 ]; then
                echo "Unknown command: $subcommand" >&2
            fi
            ;;
    esac
}




