#!/bin/zsh

#  watchfile
#  /usr/local/zterm/zsh/functions (id: 35)
#
#  Generated by 'ztemplate_apply' (zterm/zsh/sources) on 2020-10-11
#  Copyright Â© 2020 Maxim Puchkov. All rights reserved.


# watchfile
#
# <#Function description#>
#
# Usage:
# watch-file  <#...#>
emulate -LR zsh
unsetopt clobber

local file=${1:=$WATCHFILE}
if [[ ! -e $file ]]; then
  ztemplate -zsh >$file
fi



















#[[ ! -v 1 ]] && error -1 -m 'specify a file'
#
#
#local file="${1:P}"; shift
#[[ -e $file ]] || print -- "#!/bin/zsh\n#  ${file}\n\n" >$file
#open -a Xcode $file
#
#
#
#function print-watch-header() {
#  local -i w=$(( $COLUMNS / 2 ))
#  local -L $w left_text="Last update: $(date -j +'%r')"
#  local -R $w right_text="$file"
#  local line="${(l:$COLUMNS::-:)}"
#  clear
#  print -- "${left_text}${right_text}"
#  print -- "${line}\n\n"
#}
#
#export WATCH_N=2
#
#
#
#(
#tput smcup
#while true; do
#  print-watch-header
#  (eval "$(< $file)")
#  sleep $WATCH_N
#done
#
#print-line 'press return to exit'
#read -r
#tput rmcup
#)
