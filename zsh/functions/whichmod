#!/bin/zsh

#  whichmod
#  devx
#
#  Created by admin on 2020-03-03.
#  Copyright Â© 2020 Maxim Puchkov. All rights reserved.


# Print file mode bits (access privilege) as a four-digit
# octal number: special, owner, group, others (e.g., 0755).
function whichmod() {
    for target in "$@"; do
        if [[ ! -e $target ]]; then
            return 1
        fi
        local mod=$( stat -f '%Mp%Lp' "$target" 2> /dev/null )
        local ecode=$?
        if [[ $ecode -eq 0 ]]; then
            echo "$mod"
        fi
    done
}
