#!/bin/zsh

#  test
#  Generated by mkzsh at 10:24pm.
#
#  Created by mpuchkov/506:20 on April 17, 2021.
#  ~zterm2/zsh/test


function test {
  emulate -L zsh
  autoload -Uz error
  
  [[ $# -gt 0 ]] || {
    error -1 -- 'not enough arguments'
    return 1
  }
  
  set -- ${(q)argv}
  local cond="${${argv#\[\[ }% \]\]}"
  builtin eval "[[ $cond ]] 2>/dev/null"
  local -i10 res=$?
  
  local REPLY
  zformat -f REPLY "%3(a.%a A1.%a B2)" a:$res
  
  case $res in
    0) print -P "%2Ftrue%f" ;;
    1) print -P "%1Ffalse%f" ;;
    2) print -P "%3FUnknown condition%f" ;;
  esac
}
