#!/bin/zsh

#  typeof
#  Z-Function (71)
#
#  Created by Maxim Puchkov on 2020-06-21.
#  Copyright Â© 2020 Maxim Puchkov. All rights reserved.


# <#Function description#>
function typeof() {
#    () (
#        for var_name in $argv; do
#            var_type=${${(Pt)var_name}:-$undefined_label}
#            print -P -- "%B%F{4}${var_name}%f%b: ${var_type}"
#        done
#    ) ${(u)argv}
    
    (
        function typeof-plain() {
            for var_name in $argv; do
                var_type=${${(Pt)var_name}:-$undefined_label}
                print -P -- "%B%F{4}${var_name}%f%b: ${var_type}"
            done
            return 0
        }
        
        typeof-plain ${(u)argv} > >(print-var argv)
        print -- {W..Z}'-123' > >(print-var argv)
        
    )
    
#    > >(readf input <&0; print-var input argv )
    return $?
}
