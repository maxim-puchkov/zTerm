#compdef fn

#  _fn
#  Z-Function Completion (13)
#
#  Created by Maxim Puchkov on 2020-04-30.
#  Copyright Â© 2020 Maxim Puchkov. All rights reserved.


_arguments -C \
  "-h[display help]: :_nothing" \
  ":command:->command" \
  "*::arg:->arg"

case $state in
  command)
    declare -a commands
    commands=(
      isdef:"check if a function is defined"
      commands:"list function commands"
      print-commands:"format and list function commands"
      sub:"list functions defined within a function"
      src:"find function source file"
      def:"print function definition"
    )
    _describe -t commands command commands
    return
  ;;
  
  arg)
    case ${line[1]} in
      *)
        _functions
      ;;
    esac
  ;;
esac

return 0
